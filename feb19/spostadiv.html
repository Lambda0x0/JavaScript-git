<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #blocco {
            background-color: #f98000;
            width: 200px;
            height: 20px;
            color: #ffff00;
            text-align: center;
            border: double;
            border-color: #6100ff;
            position: relative;
            top: 0px;
            left: 0px;
        }
    </style>
    <script>
        //recupero le dimensioni della finestra del broswer
        const x = screen.availWidth;//larghezza della finestra
        const y = screen.availHeight;//altezza della finestra (inclusa barra di navigazione)

        document.addEventListener("keydown", logkey); // a differenza di premi testo, qui nin leggo il keycode ma programmo i tasti di mio interesse

        function logkey(e) {
            let tasto = e.keyCode; //recupero il Keycode del tasto premuto
            let sinistra = document.getElementById("blocco").style.left; //acquisisco il left di blocco
            let sopra = document.getElementById("blocco").style.top; //acquisisco il top di blocco
            if (tasto == 39) { // verifico se è stata premunta la freccia a destra
                sinistra = Number(sinistra.substring(0, sinistra.length - 2)) + 25;
                // lenghth -2 toglie "px" dalla stringa che va convertita in  Number per aggiungere 25
                // dopo aver verificato che lo spostamento è possivile, riconcatenato px per aggiornare left
                // ATTENZIONE: le freccie non funzionano sull'evento keypress
                // sinistra.lenght  vale 3  ("opx") ,
                //sinistra.length -2 vale 1 ("0")
                //sinistra.substring(0, sinistra.length - 2) mi recupera "0 "come testo
                // Number converte "0" in 0 per poter sommare 25
                if (sinistra <= x - 200) { // 200 è width di blocco
                    document.getElementById("blocco").style.left = sinistra + "px"; // aggiorno left
                }
            }
            else if (tasto == 37) {
                sinistra = Number(sinistra.substring(0, sinistra.length - 2)) - 25;
                if (sinistra >= 0) {
                    document.getElementById("blocco").style.left = sinistra + "px";
                }
            }

            else if (tasto == 40) { // verifico se è stata premunta la freccia  in giù
                sopra = Number(sopra.substring(0, sopra.length - 2)) + 25;

                if (sopra < y - 130) { //tiene conto dell' height di blocco e della cornice della finestra
                    document.getElementById("blocco").style.top = sopra + "px";
                }

            }
            else if (tasto == 38) { // verifico se è stata premunta la freccia in su
                sopra = Number(sopra.substring(0, sopra.length - 2)) - 25;
                if (sopra >= 0) {
                    document.getElementById("blocco").style.top = sopra + "px";
                }
            }
        }
    </script>
</head>

<body>
    <div id="blocco">Luciano</div>
</body>

</html>